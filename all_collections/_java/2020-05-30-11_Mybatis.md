---
title: (spring) MyBatis
excerpt: "MyBatis 설정"
categories:
  - Spring 
tags:
  - Spring
  - eclipse
last_modified_at: 2020-05-30
---

💼📝🔑⏰ 📙📓📘📒🎓

```
예제 프로젝트 : mvc-demoweb-starter
```
# 💼 MyBatis?
**객체와 테이블을 매핑하는 ORM과는 다르게 객체와 SQL문을 매핑하는 프레임워크**
– 독자적인 질의 언어를 지원하지 않고 SQL 사용 
**▪ 장점**
– 저수준 JDBC 코드의 복잡성 제거 
– 친근한 SQL 기반으로 초기 학습곡선 완만 
– 기존 데이터베이스와 호환성 높음 
– Spring 프레임워크와 통합 기능 제공 
– 성능 우수

# 💼 MyBatis 설정 파일의 주요 구성 요소
## 📝 MyBatis 클래스
1. `SqlSessionFactoryBuilder` : SqlSessionFactory를 생성하는 객체,mybatis-config.xml 설정 파일 사용 
2. `SqlSessionFactory` : SqlSession을 생성하는 객체
3. `SqlSession` : SQL을 실행하는 객체 Mapper 파일의 매핑 정보 사용

## 📝 MyBatis 연동 스프링 클래스
1. `SqlSessionFactoryBean`: SqlSessionFactoryBuilder를 사용해서 SqlSessionFactory 생성, 스프링의 FactoryBean 인터페이스 구현 → getObject 메서드 재정의를 통해 SqlSessionFactory 객체 반환
2. `SqlSessionTemplate `: SqlSession을 Wrapping한 객체

### 🔑 FactoryBean이란?
`FactoryBean`: new로 만들수 없는 것들을 FactoryBean으로 만들어 의존 객체들을 전부 만들어주는 Spring인터페이스이다.


# 💼 MyBatis - 스프링 연동 설정
- [mvnrepository 접속](https://mvnrepository.com/) 

## 📝 의존성 패키지 등록 (pom.xml) 
- `MyBatis Spring`,`MyBatis` 복사 pom.xml에 등록 작업
~~~xml
		<!-- https://mvnrepository.com/artifact/org.mybatis/mybatis -->
		<dependency>
		    <groupId>org.mybatis</groupId>
		    <artifactId>mybatis</artifactId>
		    <version>3.5.4</version>
		</dependency>
		<!-- https://mvnrepository.com/artifact/org.mybatis/mybatis-spring -->
		<dependency>
		    <groupId>org.mybatis</groupId>
		    <artifactId>mybatis-spring</artifactId>
		    <version>2.0.4</version>
		</dependency>
~~~
## 📝 MyBatis 설정 파일 작성 (/resources/mybatis-config.xml)
- 

## 📝 스프링 연동 빈 등록(변환기 설정)
- 스프링 연동 빈 등록(root-contex.xml)
~~~xml
<bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
	<property name="dataSource" ref="dataSource"/>
	<property name="configLocation" value="classpath:mybatis-config.xml"/>
</bean>
<bean id="sqlSessionTemplate" class="org.mybatis.spring.SqlSessionTemplate">
	<constructor-arg ref="sqlSessionFactory"/>
</bean>
~~~
- mybatis를 사용하기 위한 DAO에 의존성 주입
~~~xml
<bean id="memberDao"
		class="com.demoweb.dao.MemberDao">
	<property name="jdbcTemplate" ref="jdbcTemplate" />
	<property name="sqlSessionTemplate" ref="sqlSessionTemplate"></property>
</bean>
~~~

# 💼 MyBatis 사용



# 💼 MyBatis 동작 방식

